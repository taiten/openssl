From f5935fcf8e4bc2191ac4a32e5b7ec32817642f1e Mon Sep 17 00:00:00 2001
From: Pauli <pauli@openssl.org>
Date: Wed, 22 Mar 2023 12:13:07 +1100
Subject: [PATCH] Disable the policy tree exponential growth test conditionally

If there is no EC specified, the test won't pass.

Reviewed-by: Tomas Mraz <tomas@openssl.org>
Reviewed-by: Shane Lontis <shane.lontis@oracle.com>
(Merged from https://github.com/openssl/openssl/pull/20572)
---
 test/recipes/80-test_policy_tree.t | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/test/recipes/80-test_policy_tree.t b/test/recipes/80-test_policy_tree.t
index 606ad05e9c..1ddd65e897 100644
--- a/test/recipes/80-test_policy_tree.t
+++ b/test/recipes/80-test_policy_tree.t
@@ -18,6 +18,8 @@ use OpenSSL::Glob;
 
 setup("test_policy_tree");
 
+plan skip_all => "No EC support" if disabled("ec");
+
 plan tests => 2;
 
 # The small pathological tree is expected to work
-- 
2.34.1

